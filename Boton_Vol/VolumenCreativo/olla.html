<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf/notyf.min.css">
  <script src="https://cdn.jsdelivr.net/npm/notyf/notyf.min.js"></script>

  <title>Medidor de Volumen y Temperatura con Vapor</title>
  <style>
    body {
      background: #f5f5f5;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: sans-serif;
    }

    .container {
      display: flex;
      align-items: center;
      gap: 50px;
    }

    .olla {
      position: relative;
      width: 150px;
      height: 200px;
      border: 6px solid #555;
      border-radius: 10px 10px 30px 30px;
      overflow: hidden;
      background: linear-gradient(to bottom, #ddd, #aaa);
      box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
    }

    .rellenar {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 0%;
      background: linear-gradient(to top, blue, red);
      transition: height 1s ease, background 1s ease;
    }

    .porcentaje {
      position: absolute;
      top: 10px;
      left: 0;
      width: 100%;
      text-align: center;
      font-weight: bold;
      color: #333;
      text-shadow: 0 1px 2px rgba(255,255,255,0.6);
    }

    .control {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .control .barra-etiqueta{
      margin-bottom: 40px;
    }
    .control .temperatura{
      margin-top: 40px;
    }
    .barra-etiqueta {
      font-weight: bold;
      margin-bottom: 10px;
    }

    .barra {
      width: 100px;
      transform: rotate(-90deg);
      accent-color: #ff6600;
    }

    .temperatura {
      margin-top: 15px;
      font-size: 1.2em;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="olla">
      <div class="rellenar" id="rellenar"></div>
      <div class="porcentaje" id="porcentaje">0%</div>
    </div>

    <div class="control">
      <div class="barra-etiqueta">Temperatura</div>
      <input type="range" min="0" max="100" value="0" id="tempRange" class="barra" />
      <div class="temperatura" id="tempValue">0°C</div>
    </div>
  </div>

  <script>
    const tempRange = document.getElementById('tempRange');
    const tempValue = document.getElementById('tempValue');
    const rellenar = document.getElementById('rellenar');
    const porcentaje = document.getElementById('porcentaje');
    const olla = document.querySelector('.olla');

    let targetVolume = 0;
    let volActual = 0;
    let currentTemp = 0;

    let hervir = false;

    // Actualiza el volumen con retardo
    function animarVol() {
      volActual += (targetVolume - volActual) * 0.05;

      const red = Math.round(volActual * 2.55);
      const blue = Math.round(255 - volActual * 2.55);
      const color = `linear-gradient(to top, rgb(${red}, 0, ${blue}), red)`;

      rellenar.style.height = `${volActual}%`;
      rellenar.style.background = color;
      porcentaje.textContent = `${Math.round(volActual)}%`;



      if(volActual > 99 && !hervir){
        hervir = true;
        const notyf = new Notyf({
          duration: 3000,
          position: { x: 'right', y: 'top' }
        });
        notyf.success('¡El volumen está al máximo!');
      }
      if(volActual < 90 && hervir){
        hervir = false;
      }

      requestAnimationFrame(animarVol);
    }

    animarVol();

    // Control de temperatura
    tempRange.addEventListener('input', () => {
      currentTemp = parseInt(tempRange.value);
      tempValue.textContent = `${currentTemp}°C`;
      targetVolume = Math.min(100, currentTemp);
    })
  </script>
</body>
</html>
